<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë²¨ë¼ê°€ë“  ë¸”ë¡œê·¸ ìƒì„±ê¸°</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap');

  :root {
    --green-deep: #2D4A2D;
    --green-mid: #4A7A4A;
    --green-light: #8BAF7A;
    --cream: #F5F0E8;
    --cream-dark: #EDE5D4;
    --terracotta: #C17A5A;
    --charcoal: #2A2A2A;
    --text-soft: #5A5A5A;
    --border: #D5CCBC;
    --white: #FDFCF9;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Noto Sans KR', sans-serif;
    background: var(--cream);
    color: var(--charcoal);
    min-height: 100vh;
  }

  /* Header */
  .header {
    background: var(--green-deep);
    color: white;
    padding: 20px 32px;
    display: flex;
    align-items: center;
    gap: 16px;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 12px rgba(0,0,0,0.15);
  }
  .header-logo {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    letter-spacing: 2px;
  }
  .header-sub {
    font-size: 11px;
    opacity: 0.7;
    letter-spacing: 1px;
    text-transform: uppercase;
  }
  .header-divider { width: 1px; height: 36px; background: rgba(255,255,255,0.25); }

  /* Layout */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 28px 24px;
    display: grid;
    grid-template-columns: 380px 1fr;
    gap: 24px;
    align-items: start;
  }

  /* Channel Tabs (Header) */
  .channel-tabs {
    display: flex;
    gap: 6px;
  }
  .channel-tab {
    padding: 8px 18px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    border: 1.5px solid rgba(255,255,255,0.35);
    color: rgba(255,255,255,0.7);
    transition: all 0.2s;
    white-space: nowrap;
  }
  .channel-tab.active {
    background: white;
    color: var(--green-deep);
    border-color: white;
  }
  .channel-tab:hover:not(.active) {
    background: rgba(255,255,255,0.15);
    color: white;
  }

  .action-btns {
    display: flex;
    gap: 8px;
    margin-top: 12px;
  }
  .download-btn {
    flex: 1;
    padding: 10px;
    background: var(--cream-dark);
    border: 1.5px solid var(--border);
    border-radius: 8px;
    font-size: 12px;
    font-weight: 600;
    color: var(--green-deep);
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Noto Sans KR', sans-serif;
  }
  .download-btn:hover { background: var(--border); }
  .copy-btn { flex: 1; margin-top: 0; }

  /* Insta type grid */
  .insta-type-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    margin-bottom: 4px;
  }


    background: var(--white);
    border-radius: 12px;
    border: 1px solid var(--border);
    overflow: hidden;
  }
  .panel-header {
    background: var(--cream-dark);
    padding: 14px 20px;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--green-deep);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .panel-body { padding: 20px; }

  /* Section label */
  .section-label {
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--green-mid);
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .section-label::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }

  /* Product tabs */
  .sector-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 14px;
  }
  .sector-tab {
    flex: 1;
    padding: 8px;
    border: 1.5px solid var(--border);
    border-radius: 8px;
    background: var(--cream);
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-soft);
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
    letter-spacing: 0.5px;
  }
  .sector-tab.active {
    background: var(--green-deep);
    color: white;
    border-color: var(--green-deep);
  }

  .product-list { display: flex; flex-direction: column; gap: 8px; }

  .product-card {
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: 12px 14px;
    cursor: pointer;
    transition: all 0.2s;
    background: var(--cream);
    position: relative;
  }
  .product-card:hover { border-color: var(--green-mid); background: #f0f5ec; }
  .product-card.selected {
    border-color: var(--green-deep);
    background: #e8f0e4;
  }
  .product-card.selected::before {
    content: 'âœ“';
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--green-deep);
    color: white;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 700;
  }
  .product-name {
    font-size: 13px;
    font-weight: 700;
    color: var(--charcoal);
    margin-bottom: 3px;
  }
  .product-meta {
    font-size: 11px;
    color: var(--text-soft);
  }
  .product-price {
    font-size: 11px;
    color: var(--terracotta);
    font-weight: 700;
    margin-top: 2px;
  }

  .divider { height: 1px; background: var(--border); margin: 18px 0; }

  /* Blog type */
  .type-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }
  .type-card {
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: 10px 12px;
    cursor: pointer;
    transition: all 0.2s;
    background: var(--cream);
  }
  .type-card:hover { border-color: var(--green-mid); }
  .type-card.selected {
    border-color: var(--terracotta);
    background: #fdf0ea;
  }
  .type-icon { font-size: 18px; margin-bottom: 4px; }
  .type-name { font-size: 11px; font-weight: 700; color: var(--charcoal); }
  .type-desc { font-size: 10px; color: var(--text-soft); margin-top: 2px; line-height: 1.4; }

  /* Target */
  .target-chips { display: flex; flex-wrap: wrap; gap: 6px; }
  .chip {
    padding: 5px 12px;
    border-radius: 20px;
    border: 1.5px solid var(--border);
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    background: var(--cream);
    color: var(--text-soft);
    transition: all 0.2s;
  }
  .chip.selected {
    background: var(--green-mid);
    color: white;
    border-color: var(--green-mid);
  }

  /* Keywords */
  .keyword-rows { display: flex; flex-direction: column; gap: 8px; }
  .keyword-row {
    display: grid;
    grid-template-columns: 1fr 80px 80px 28px;
    gap: 6px;
    align-items: center;
  }
  .keyword-row input {
    padding: 8px 10px;
    border: 1.5px solid var(--border);
    border-radius: 8px;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 12px;
    background: var(--cream);
    color: var(--charcoal);
    transition: border-color 0.2s;
    outline: none;
  }
  .keyword-row input:focus { border-color: var(--green-mid); }
  .keyword-row input::placeholder { color: #bbb; }
  .keyword-row .col-label {
    font-size: 10px;
    color: var(--text-soft);
    text-align: center;
  }
  .keyword-row.header-row { margin-bottom: -2px; }
  .del-btn {
    background: none;
    border: 1px solid var(--border);
    border-radius: 6px;
    width: 28px;
    height: 28px;
    cursor: pointer;
    color: var(--text-soft);
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
  }
  .del-btn:hover { background: #fee; border-color: #f88; color: #c44; }
  .add-kw-btn {
    margin-top: 8px;
    padding: 8px;
    border: 1.5px dashed var(--border);
    border-radius: 8px;
    background: none;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 11px;
    color: var(--green-mid);
    cursor: pointer;
    width: 100%;
    transition: all 0.2s;
    font-weight: 500;
  }
  .add-kw-btn:hover { border-color: var(--green-mid); background: #f0f8ec; }

  /* Tone */
  .tone-select {
    width: 100%;
    padding: 9px 12px;
    border: 1.5px solid var(--border);
    border-radius: 8px;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 12px;
    background: var(--cream);
    color: var(--charcoal);
    outline: none;
    cursor: pointer;
  }
  .tone-select:focus { border-color: var(--green-mid); }

  /* Generate button */
  .generate-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, var(--green-deep), var(--green-mid));
    color: white;
    border: none;
    border-radius: 10px;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    letter-spacing: 0.5px;
    transition: all 0.3s;
    margin-top: 20px;
    position: relative;
    overflow: hidden;
  }
  .generate-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(45,74,45,0.35); }
  .generate-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
  .generate-btn .btn-inner { display: flex; align-items: center; justify-content: center; gap: 8px; }

  /* Output panel */
  .output-panel { position: sticky; top: 88px; }

  .output-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 20px;
    text-align: center;
    color: var(--text-soft);
  }
  .placeholder-icon { font-size: 48px; margin-bottom: 16px; opacity: 0.5; }
  .placeholder-title { font-size: 15px; font-weight: 700; margin-bottom: 8px; color: var(--green-deep); }
  .placeholder-sub { font-size: 12px; line-height: 1.7; }

  /* Result */
  .result-area { display: none; }
  .result-area.show { display: block; }

  .result-tabs {
    display: flex;
    border-bottom: 1px solid var(--border);
    background: var(--cream-dark);
    padding: 0 16px;
  }
  .result-tab {
    padding: 12px 16px;
    font-size: 12px;
    font-weight: 700;
    color: var(--text-soft);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
  }
  .result-tab.active {
    color: var(--green-deep);
    border-bottom-color: var(--green-deep);
  }

  .result-content { padding: 20px; }

  .result-meta {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
    flex-wrap: wrap;
  }
  .meta-badge {
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.5px;
  }
  .meta-badge.green { background: #e8f0e4; color: var(--green-deep); }
  .meta-badge.terra { background: #fdf0ea; color: var(--terracotta); }

  .blog-output {
    background: var(--cream);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 20px;
    font-size: 13px;
    line-height: 1.9;
    color: var(--charcoal);
    white-space: pre-wrap;
    max-height: 600px;
    overflow-y: auto;
    font-family: 'Noto Sans KR', sans-serif;
  }

  .blog-output::-webkit-scrollbar { width: 5px; }
  .blog-output::-webkit-scrollbar-track { background: var(--cream-dark); border-radius: 3px; }
  .blog-output::-webkit-scrollbar-thumb { background: var(--green-light); border-radius: 3px; }

  .copy-btn {
    margin-top: 0;
    padding: 10px 20px;
    background: var(--green-deep);
    color: white;
    border: none;
    border-radius: 8px;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
  }
  .copy-btn:hover { background: var(--green-mid); }
  .copy-btn.copied { background: var(--terracotta); }

  /* Loading */
  .loading-state { display: none; }
  .loading-state.show {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 20px;
    gap: 16px;
  }
  .loader {
    width: 36px;
    height: 36px;
    border: 3px solid var(--cream-dark);
    border-top-color: var(--green-mid);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }
  .loading-text { font-size: 13px; color: var(--text-soft); font-weight: 500; }

  /* Error */
  .error-msg {
    background: #fef2f2;
    border: 1px solid #fca5a5;
    border-radius: 8px;
    padding: 12px 16px;
    font-size: 12px;
    color: #b91c1c;
    margin-top: 12px;
    display: none;
  }
  .error-msg.show { display: block; }

  /* API key */
  .api-key-section {
    background: var(--cream-dark);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 14px;
    margin-bottom: 18px;
  }
  .api-key-label {
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--green-deep);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .api-key-input {
    width: 100%;
    padding: 9px 12px;
    border: 1.5px solid var(--border);
    border-radius: 8px;
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 12px;
    background: var(--white);
    color: var(--charcoal);
    outline: none;
    letter-spacing: 1px;
  }
  .api-key-input:focus { border-color: var(--green-mid); }

  .section-spacer { height: 18px; }

  /* Tooltip */
  .info-badge {
    display: inline-block;
    width: 14px;
    height: 14px;
    background: var(--green-light);
    color: white;
    border-radius: 50%;
    font-size: 9px;
    text-align: center;
    line-height: 14px;
    cursor: help;
    font-weight: 700;
  }
</style>
</head>
<body>

<div class="header">
  <div>
    <div class="header-logo">BELLA GARDEN</div>
    <div class="header-sub">Marketing Content Generator</div>
  </div>
  <div class="header-divider"></div>
  <div style="font-size:12px; color:rgba(255,255,255,0.7); line-height:1.6;">
    ë¸”ë™í‚¤ìœ„ í‚¤ì›Œë“œ ê¸°ë°˜<br>ë§ˆì¼€íŒ… ì½˜í…ì¸  ìë™ ìƒì„±ê¸°
  </div>
  <div style="margin-left:auto;">
    <div class="channel-tabs">
      <div class="channel-tab active" onclick="switchChannel('blog')" id="channelBlog">ğŸ“ ë„¤ì´ë²„ ë¸”ë¡œê·¸</div>
      <div class="channel-tab" onclick="switchChannel('insta')" id="channelInsta">ğŸ“¸ ì¸ìŠ¤íƒ€ê·¸ë¨</div>
    </div>
  </div>
</div>

<div class="container">

  <!-- LEFT PANEL -->
  <div class="panel" style="display:flex; flex-direction:column; gap:0;">
    <div class="panel-header">
      âš™ ê¸€ ì„¤ì •
    </div>
    <div class="panel-body" style="display:flex; flex-direction:column; gap:0;">

      <!-- API Key -->
      <div class="api-key-section">
        <div class="api-key-label">ğŸ”‘ Claude API Key</div>
        <input type="password" class="api-key-input" id="apiKey" placeholder="sk-ant-api03-..." />
      </div>

      <!-- Product Selection -->
      <div class="section-label">ì œí’ˆ ì„ íƒ</div>
      <div class="sector-tabs">
        <div class="sector-tab active" data-sector="plant" onclick="switchSector('plant')">ğŸŒ¿ PLANT</div>
        <div class="sector-tab" data-sector="object" onclick="switchSector('object')">ğŸª´ OBJECT</div>
      </div>

      <div class="product-list" id="productList">
        <!-- ë™ì  ë Œë”ë§ -->
      </div>

      <div class="divider"></div>

      <!-- Blog Type (ë„¤ì´ë²„ ë¸”ë¡œê·¸) -->
      <div id="blogTypeSection">
        <div class="section-label">ë¸”ë¡œê·¸ ê¸€ ìœ í˜•</div>
        <div class="type-grid">
          <div class="type-card" data-type="review" onclick="selectType(this)">
            <div class="type-icon">â­</div>
            <div class="type-name">êµ¬ë§¤ í›„ê¸°í˜•</div>
            <div class="type-desc">1ì¸ì¹­ ìƒìƒí•œ ì‚¬ìš© ê²½í—˜</div>
          </div>
          <div class="type-card" data-type="intro" onclick="selectType(this)">
            <div class="type-icon">ğŸ“¦</div>
            <div class="type-name">ìƒí’ˆ ì†Œê°œí˜•</div>
            <div class="type-desc">ì œí’ˆ íŠ¹ì§• & ìŠ¤í™ ì¤‘ì‹¬</div>
          </div>
          <div class="type-card" data-type="gift" onclick="selectType(this)">
            <div class="type-icon">ğŸ</div>
            <div class="type-name">ì„ ë¬¼ ì¶”ì²œí˜•</div>
            <div class="type-desc">ì§‘ë“¤ì´Â·ìƒì¼Â·ê¸°ë…ì¼ ì¶”ì²œ</div>
          </div>
          <div class="type-card" data-type="styling" onclick="selectType(this)">
            <div class="type-icon">ğŸ </div>
            <div class="type-name">ì¸í…Œë¦¬ì–´ ìŠ¤íƒ€ì¼ë§í˜•</div>
            <div class="type-desc">ê³µê°„ ì—°ì¶œ & í™ˆë°ì½” ì¤‘ì‹¬</div>
          </div>
          <div class="type-card" data-type="care" onclick="selectType(this)">
            <div class="type-icon">ğŸ’§</div>
            <div class="type-name">ì‹ë¬¼ ê´€ë¦¬ íŒí˜•</div>
            <div class="type-desc">ê´€ë¦¬ë²• + ë¸Œëœë“œ ìì—° ë…¸ì¶œ</div>
          </div>
          <div class="type-card" data-type="season" onclick="selectType(this)">
            <div class="type-icon">ğŸŒ¸</div>
            <div class="type-name">ê³„ì ˆ ê¸°íší˜•</div>
            <div class="type-desc">ì‹œì¦Œ ê°ì„± + íŠ¸ë Œë“œ ì—°ê³„</div>
          </div>
        </div>
      </div>

      <!-- Insta Type (ì¸ìŠ¤íƒ€ê·¸ë¨) -->
      <div id="instaTypeSection" style="display:none;">
        <div class="section-label">ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ìœ í˜•</div>
        <div class="insta-type-grid">
          <div class="type-card" data-type="insta_product" onclick="selectType(this)">
            <div class="type-icon">ğŸª´</div>
            <div class="type-name">ì œí’ˆ í”¼ë“œ</div>
            <div class="type-desc">ì œí’ˆ ê°ì„± ì†Œê°œ & êµ¬ë§¤ ìœ ë„</div>
          </div>
          <div class="type-card" data-type="insta_lifestyle" onclick="selectType(this)">
            <div class="type-icon">âœ¨</div>
            <div class="type-name">ë¼ì´í”„ìŠ¤íƒ€ì¼ í”¼ë“œ</div>
            <div class="type-desc">ê³µê°„Â·ì¼ìƒ ê°ì„± ì—°ì¶œ</div>
          </div>
          <div class="type-card" data-type="insta_tip" onclick="selectType(this)">
            <div class="type-icon">ğŸŒ±</div>
            <div class="type-name">ì‹ë¬¼ íŒ í”¼ë“œ</div>
            <div class="type-desc">ìœ ìš©í•œ ì •ë³´ë¡œ ì €ì¥ ìœ ë„</div>
          </div>
          <div class="type-card" data-type="insta_gift" onclick="selectType(this)">
            <div class="type-icon">ğŸ</div>
            <div class="type-name">ì„ ë¬¼ í”¼ë“œ</div>
            <div class="type-desc">ì„ ë¬¼ ì¶”ì²œÂ·ì´ë²¤íŠ¸ í™ë³´</div>
          </div>
          <div class="type-card" data-type="insta_season" onclick="selectType(this)">
            <div class="type-icon">ğŸŒ¸</div>
            <div class="type-name">ê³„ì ˆ ê¸°íš í”¼ë“œ</div>
            <div class="type-desc">ì‹œì¦Œ ê°ì„± + íŠ¸ë Œë“œ</div>
          </div>
          <div class="type-card" data-type="insta_review" onclick="selectType(this)">
            <div class="type-icon">ğŸ’¬</div>
            <div class="type-name">í›„ê¸° í”¼ë“œ</div>
            <div class="type-desc">ì‹¤ì‚¬ìš© í›„ê¸° ê°ì„± ì¬í¸ì§‘</div>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <!-- Target -->
      <div class="section-label">íƒ€ê²Ÿ ë…ì</div>
      <div class="target-chips" id="targetChips">
        <div class="chip" onclick="toggleChip(this)">ê°€ë“œë‹ ì´ˆë³´ì</div>
        <div class="chip" onclick="toggleChip(this)">ì§ì¥ì¸</div>
        <div class="chip" onclick="toggleChip(this)">2030 ì—¬ì„±</div>
        <div class="chip" onclick="toggleChip(this)">ì£¼ë¶€</div>
        <div class="chip" onclick="toggleChip(this)">ì„ ë¬¼ êµ¬ë§¤ì</div>
        <div class="chip" onclick="toggleChip(this)">ì¸í…Œë¦¬ì–´ ê´€ì‹¬ì¸µ</div>
        <div class="chip" onclick="toggleChip(this)">ì¹´í˜ ìš´ì˜ì</div>
        <div class="chip" onclick="toggleChip(this)">ë°˜ë ¤ì‹ë¬¼ ì´ˆë³´</div>
      </div>

      <div class="divider"></div>

      <!-- Keywords -->
      <div class="section-label">
        ë¸”ë™í‚¤ìœ„ í‚¤ì›Œë“œ 
        <span class="info-badge" title="ë¸”ë™í‚¤ìœ„ì—ì„œ ë³µì‚¬í•œ í‚¤ì›Œë“œ, ê²€ìƒ‰ëŸ‰, í¬í™”ì§€ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”">i</span>
      </div>
      <div class="keyword-row header-row">
        <div class="col-label" style="text-align:left; padding-left:10px;">í‚¤ì›Œë“œ</div>
        <div class="col-label">ê²€ìƒ‰ëŸ‰</div>
        <div class="col-label">í¬í™”ì§€ìˆ˜</div>
        <div></div>
      </div>
      <div class="keyword-rows" id="keywordRows">
        <div class="keyword-row">
          <input type="text" placeholder="í‚¤ì›Œë“œ ì…ë ¥" class="kw-input">
          <input type="text" placeholder="ì˜ˆ) 3.2ë§Œ" class="vol-input">
          <input type="text" placeholder="ì˜ˆ) ë‚®ìŒ" class="sat-input">
          <button class="del-btn" onclick="removeKeyword(this)">Ã—</button>
        </div>
      </div>
      <button class="add-kw-btn" onclick="addKeyword()">+ í‚¤ì›Œë“œ ì¶”ê°€</button>

      <div class="divider"></div>

      <!-- Tone -->
      <div class="section-label">ê¸€ í†¤ & ìŠ¤íƒ€ì¼</div>
      <select class="tone-select" id="toneSelect">
        <option value="friendly">ì¹œê·¼í•œ ì¹œêµ¬ ë§íˆ¬ (ë°˜ë§ ì—†ì´, ë”°ëœ»í•˜ê²Œ)</option>
        <option value="reviewer">ì†”ì§í•œ í›„ê¸° ì‘ì„±ì (ê²½í—˜ë‹´ ìœ„ì£¼)</option>
        <option value="expert">ì‹ë¬¼ ì „ë¬¸ê°€í˜• (ì‹ ë¢°ê° ìˆëŠ” ì •ë³´ ì œê³µ)</option>
        <option value="emotional">ê°ì„±ì  ì—ì„¸ì´ ìŠ¤íƒ€ì¼</option>
        <option value="simple">ì‹¬í”Œ & ì§ê´€ì  (í•µì‹¬ ì „ë‹¬)</option>
      </select>

      <div id="errorMsg" class="error-msg"></div>

      <button class="generate-btn" id="generateBtn" onclick="handleGenerate()">
        <div class="btn-inner">
          <span>âœ¦</span>
          <span id="generateBtnText">ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì´ˆì•ˆ ìƒì„±</span>
        </div>
      </button>

    </div>
  </div>

  <!-- RIGHT PANEL -->
  <div class="panel output-panel" id="outputPanel">
    <div class="panel-header" id="outputPanelHeader">âœ¦ ìƒì„±ëœ ë¸”ë¡œê·¸ ì´ˆì•ˆ</div>

    <div id="placeholderArea" class="output-placeholder">
      <div class="placeholder-icon">ğŸŒ¿</div>
      <div class="placeholder-title">ì„¤ì •ì„ ì™„ë£Œí•˜ê³  ìƒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</div>
      <div class="placeholder-sub">
        ì œí’ˆ ì„ íƒ â†’ ê¸€ ìœ í˜• ì„ íƒ â†’ íƒ€ê²Ÿ ì„ íƒ<br>
        ë¸”ë™í‚¤ìœ„ í‚¤ì›Œë“œ ì…ë ¥ â†’ ìƒì„±!
      </div>
    </div>

    <div id="loadingState" class="loading-state">
      <div class="loader"></div>
      <div class="loading-text" id="loadingText">ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ê³  ìˆì–´ìš”...</div>
    </div>

    <!-- ë¸”ë¡œê·¸ ê²°ê³¼ íƒ­ -->
    <div id="resultArea" class="result-area">
      <div class="result-tabs" id="blogResultTabs">
        <div class="result-tab active" onclick="switchTab(this,'full')">ì „ì²´ ì´ˆì•ˆ</div>
        <div class="result-tab" onclick="switchTab(this,'title')">ì œëª© í›„ë³´</div>
        <div class="result-tab" onclick="switchTab(this,'image')">ì´ë¯¸ì§€ ì»·</div>
        <div class="result-tab" onclick="switchTab(this,'hashtag')">í•´ì‹œíƒœê·¸</div>
        <div class="result-tab" onclick="switchTab(this,'checklist')">ë°œí–‰ ì²´í¬</div>
      </div>
      <!-- ì¸ìŠ¤íƒ€ ê²°ê³¼ íƒ­ -->
      <div class="result-tabs" id="instaResultTabs" style="display:none;">
        <div class="result-tab active" onclick="switchTab(this,'insta_a')">âœ¨ ê°ì„±í˜•</div>
        <div class="result-tab" onclick="switchTab(this,'insta_b')">ğŸ’¾ ì €ì¥ìœ ë„í˜•</div>
        <div class="result-tab" onclick="switchTab(this,'insta_c')">ğŸ›’ íŒë§¤í˜•</div>
        <div class="result-tab" onclick="switchTab(this,'insta_hashtag')">í•´ì‹œíƒœê·¸ 30</div>
        <div class="result-tab" onclick="switchTab(this,'insta_photo')">ì´¬ì˜ ê°€ì´ë“œ</div>
      </div>
      <div class="result-content">
        <div class="result-meta" id="resultMeta"></div>
        <div id="blogOutput" class="blog-output"></div>
        <div class="action-btns">
          <button class="copy-btn" id="copyBtn" onclick="copyOutput()">ğŸ“‹ ë³µì‚¬í•˜ê¸°</button>
          <button class="download-btn" id="downloadBtn" onclick="downloadTxt()">â¬‡ TXT ì €ì¥</button>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
// ============================
// ì œí’ˆ ë°ì´í„°
// ============================
const PRODUCTS = {
  plant: [
    {
      id: 'desk',
      name: 'ë°ìŠ¤í¬ìš© ë¯¸ë‹ˆ ì •ì›',
      sub: 'ì‹ë¬¼ 3ì¢… + ì›ëª© íŠ¸ë ˆì´ (33Ã—11.5Ã—8cm)',
      price: '30,000ì› (ì¿ í° 27,000ì›)',
      emoji: 'ğŸŒ±',
      detail: `
[ë°ìŠ¤í¬ìš© ë¯¸ë‹ˆ ì •ì› - ìƒì„¸ ì •ë³´]
êµ¬ì„±: ì‹ë¬¼ 3ì¢… + ì›ëª© íŠ¸ë ˆì´(33Ã—11.5Ã—8cm) + ê°€ë“  ë ˆì´ë¸” + í™”ë¶„ ë°›ì¹¨ëŒ€ 3ê°œ + ì¹´í˜ ì»µ 2ê°œ
ê°€ê²©: 30,000ì› / ì¿ í°ê°€ 27,000ì›
ì£¼ìš” ì‹ë¬¼ ì¡°í•© ì˜ˆì‹œ:
  - ì¡°í•©â‘ : ë‚˜í•œì†¡ + ê½ƒê¸°ë¦° + ì¸ì‹œê·¸ë‹ˆìŠ¤
  - ì¡°í•©â‘¡: ì•„ìŠ¤íŒŒë¼ê±°ìŠ¤ + ë ˆë“œìŠ¤íƒ€ + í˜¸ì•¼
  - ì¡°í•©â‘¢: ì¹¼ë¼ë°ì•„ ë·°í‹°ìŠ¤íƒ€ + í˜í˜ë¡œë¯¸ì•„ ì•„ì´ë¦° + í™”ì´íŠ¸ìŠ¤íƒ€
íŠ¹ì§•:
- ì±…ìƒ/ì„ ë°˜ì— ë”± ë§ëŠ” ìŠ¬ë¦¼í•œ ì›ëª© íŠ¸ë ˆì´ ë””ìì¸
- ë°ìŠ¤í¬ìš© 2ê°œë¥¼ ë‚˜ë€íˆ ë‘ë©´ í…Œì´ë¸”ìš©ê³¼ ë™ì¼í•œ ë³¼ë¥¨ê° ì—°ì¶œ ê°€ëŠ¥
- ì§ì¥ì¸ ì±…ìƒ, ê³µë¶€ë°©, í™ˆì˜¤í”¼ìŠ¤ì— ìµœì 
- ë§ì¶¤ ë¬¸êµ¬ ë ˆì´ë¸” ì œì‘ ê°€ëŠ¥ (ì—°ë ¥/3ê°œì›”ë‹¬ë ¥/1ê°œì›”ë‹¬ë ¥/í•´ë¹—íŠ¸ë˜ì»¤/ëª…ì–¸ 5ì¢…)
- ì¹´í˜ ì»µì„ í™œìš©í•œ ë…íŠ¹í•œ ë¬¼ì£¼ê¸° ë°©ì‹ (í˜ëŸ¬ë‚˜ì˜¨ ë¬¼ ì¬í™œìš©)
- ê³„ì ˆë³„ ê½ƒ í¬í•¨ ê°€ëŠ¥, í™”ë¶„ë§Œ êµì²´í•˜ì—¬ ì‹ë¬¼ ë³€ê²½ ê°€ëŠ¥ (ë¶„ê°ˆì´ ë¶ˆí•„ìš”)
- ë°˜ë ¤ë™ë¬¼ ì•ˆì „ ì—¬ë¶€ëŠ” ì‹ë¬¼ ì¡°í•©ì— ë”°ë¼ ë‹¤ë¦„ (ì£¼ë¬¸ ì „ ë¬¸ì˜ ê°€ëŠ¥)
ë¬¼ì£¼ê¸° ë°©ë²•: ì¹´í˜ ì»µì— ë¬¼ ë‹´ê¸° â†’ í™”ë¶„ì§¸ ì˜¬ë¦¬ê¸° â†’ ì²œì²œíˆ ë¶€ì–´ì£¼ê¸° â†’ í˜ëŸ¬ë‚˜ì˜¨ ë¬¼ ì¬ë¶€ì–´ì£¼ê¸° â†’ ë¬¼ ë¹ ì§€ë©´ íŠ¸ë ˆì´ë¡œ ë³µê·€
ë°°ì†¡: 2ë§Œì› ì´ìƒ ë¬´ë£Œë°°ì†¡`
    },
    {
      id: 'table',
      name: 'í…Œì´ë¸”ìš© ë¯¸ë‹ˆ ì •ì›',
      sub: 'ì‹ë¬¼ 6ì¢… + ì›ëª© íŠ¸ë ˆì´ (33Ã—22Ã—8cm)',
      price: '57,000ì› (ì¿ í° 51,300ì›)',
      emoji: 'ğŸŒ¿',
      detail: `
[í…Œì´ë¸”ìš© ë¯¸ë‹ˆ ì •ì› - ìƒì„¸ ì •ë³´]
êµ¬ì„±: ì‹ë¬¼ 6ì¢… + ì›ëª© íŠ¸ë ˆì´(33Ã—22Ã—8cm) + ê°€ë“  ë ˆì´ë¸” + í™”ë¶„ ë°›ì¹¨ëŒ€ 6ê°œ + ì¹´í˜ ì»µ 2ê°œ
ê°€ê²©: 57,000ì› / ì¿ í°ê°€ 51,300ì›
ì£¼ìš” ì‹ë¬¼ ì¡°í•© ì˜ˆì‹œ:
  - ì¡°í•©â‘ : ì•„ê¸€ë ˆì˜¤ë„¤ë§ˆ í™”ì´íŠ¸ì—”ì ¤ + í˜í˜ë¡œë¯¸ì•„ + ëŸ¬ë¸Œì²´ì¸ + ìŠ¤íŒŒí‹°í•„ë¦„ + ê½ƒê¸°ë¦° + ë²„í‚¨ëª½ê³ 
  - ì¡°í•©â‘¡: ì•„ìŠ¤íŒŒë¼ê±°ìŠ¤ + í•„ë¡œë´ë“œë¡  ë ˆëª¬ë¼ì„ + ë ˆë“œìŠ¤íƒ€ + ì†Œêµ­ + ë…¹ë³´ìˆ˜ + ë‚˜ë¹„ë€
  - ì¡°í•©â‘¢: ì•„ìŠ¤íŒŒë¼ê±°ìŠ¤ + ì•„ì´ë¦° í˜í˜ + í™”ì´íŠ¸ ì½©ê³  + ìŠ¤ë…¸ìš° ì‚¬íŒŒì´ì–´ + í…Œì´ë¸”ì•¼ì + ê½ƒê¸°ë¦°
íŠ¹ì§•:
- ì‹íƒ, ê±°ì‹¤ í…Œì´ë¸”, ì¹´ìš´í„° ìœ„ì— ì˜¬ë¦¬ê¸° ì¢‹ì€ í’ì„±í•œ êµ¬ì„±
- 6ì¢… ì‹ë¬¼ì´ ì›ëª© ë°•ìŠ¤ì— ì„¸íŒ…ë˜ì–´ í¬ë ˆìŠ¤íŠ¸í•œ ë¶„ìœ„ê¸° ì—°ì¶œ
- ê³„ì ˆë³„ ê½ƒ ì‹ë¬¼ í¬í•¨ â†’ ì‚¬ê³„ì ˆ ê°ì„± ë³€í™” ê°€ëŠ¥
- ì§‘ë“¤ì´ ì„ ë¬¼, í™ˆíŒŒí‹° í…Œì´ë¸” ì„¸íŒ…ì— íŠ¹íˆ ì í•©
- ë§ì¶¤ ë¬¸êµ¬ ë ˆì´ë¸” (5ì¢… ì„ íƒ) + ì¹´ì¹´ì˜¤ì±„ë„ í†µí•œ ë¡œê³ /ì‚¬ì§„ ë ˆì´ë¸” ì œì‘ ê°€ëŠ¥
ë¬¼ì£¼ê¸° ë°©ë²•: ë°ìŠ¤í¬ìš©ê³¼ ë™ì¼í•œ ì¹´í˜ ì»µ í™œìš©ë²•
ë°°ì†¡: 2ë§Œì› ì´ìƒ ë¬´ë£Œë°°ì†¡`
    },
    {
      id: 'window',
      name: 'ì›ë„ìš°ìš© ë¯¸ë‹ˆ ì •ì›',
      sub: 'ì‹ë¬¼ 4ì¢… + ë¼íƒ„ ë°”ìŠ¤ì¼“ (ì§€ë¦„ 24cm)',
      price: '42,000ì› (ì¿ í° 37,800ì›)',
      emoji: 'ğŸªŸ',
      detail: `
[ì›ë„ìš°ìš© ë¯¸ë‹ˆ ì •ì› - ìƒì„¸ ì •ë³´]
êµ¬ì„±: ì‹ë¬¼ 4ì¢… + ë¼íƒ„ ë°”ìŠ¤ì¼“(ì§€ë¦„ 24cm, ë†’ì´ 22cm ë°›ì¹¨ í¬í•¨) + ê°€ë“ í”½ + í™”ë¶„ ë°›ì¹¨ëŒ€ + ì¹´í˜ ì»µ 2ê°œ
ê°€ê²©: 42,000ì› / ì¿ í°ê°€ 37,800ì›
ì£¼ìš” ì‹ë¬¼ ì¡°í•© ì˜ˆì‹œ:
  - ì¡°í•©â‘ : ì•„ë ˆì¹´ì•¼ì + ìŠ¤ë…¸ìš° ì‚¬íŒŒì´ì–´ + ìŠ¤íŒŒí‹°í•„ë¦„ + ë ˆë“œ ì•ˆìŠ¤ë¦¬ì›€
  - ì¡°í•©â‘¡: ì•ˆìŠ¤ë¦¬ì›€ ë‹¨ë… (ëŒ€í˜•)
  - ì¡°í•©â‘¢: ì•„ë ˆì¹´ì•¼ì + ìŠ¤í‚¨ë‹µì„œìŠ¤ + ìŠ¤ë…¸ìš° ì‚¬íŒŒì´ì–´ + ì•ˆìŠ¤ë¦¬ì›€
íŠ¹ì§•:
- ì›ëª© ë°•ìŠ¤ ëŒ€ì‹  ë¼íƒ„ ë°”ìŠ¤ì¼“ â†’ ìì—°ìŠ¤ëŸ½ê³  ë³´í—¤ë¯¸ì•ˆí•œ ê°ì„±
- ì°½ê°€, ê±°ì‹¤ ì½”ë„ˆ, í˜„ê´€ ë“± í° ê³µê°„ì— ì–´ìš¸ë¦¬ëŠ” ë³¼ë¥¨ê°
- í—¤ì–´í•€ ë°›ì¹¨ëŒ€ í¬í•¨ìœ¼ë¡œ ë†’ì´ ìˆëŠ” ì—°ì¶œ ê°€ëŠ¥
- ë¹›ì´ ì˜ ë“œëŠ” ì°½ê°€ ë°°ì¹˜ì— ìµœì í™”ëœ ì‹ë¬¼ êµ¬ì„±
- ë´„/ì—¬ë¦„ ì‹œì¦Œ íŠ¹íˆ ì¸ê¸° ë†’ì€ êµ¬ì„±
ë¬¼ì£¼ê¸° ë°©ë²•: ì¹´í˜ ì»µ í™œìš© â†’ ì‹ë¬¼ì—ì„œ í˜ëŸ¬ë‚˜ì˜¨ ë¬¼ ì¬í™œìš©
ë°°ì†¡: 2ë§Œì› ì´ìƒ ë¬´ë£Œë°°ì†¡`
    }
  ],
  object: [
    {
      id: 'treeserve_square',
      name: 'íŠ¸ë¦¬ì €ë¸Œ ëŒ€í˜• í™”ë¶„ë°›ì¹¨ëŒ€_ìŠ¤í€˜ì–´',
      sub: '340Ã—340Ã—115mm / ë¬¼íƒ±í¬ 3L',
      price: '42,000ì› (ì¿ í° 37,800ì›)',
      emoji: 'â¬œ',
      detail: `
[íŠ¸ë¦¬ì €ë¸Œ ëŒ€í˜• í™”ë¶„ë°›ì¹¨ëŒ€ ìŠ¤í€˜ì–´ - ìƒì„¸ ì •ë³´]
ë¸Œëœë“œëª…: TREESERVE (íŠ¸ë¦¬ì €ë¸Œ) - "Deep Plant Saucer"
ì œí’ˆ ê·œê²©: ìŠ¤í€˜ì–´(ì‚¬ê°í˜•) 340Ã—340Ã—115mm
ë¬¼íƒ±í¬ ìš©ëŸ‰: 3L (ëŒ€ìš©ëŸ‰ - ìì£¼ ë¹„ìš¸ í•„ìš” ì—†ìŒ)
ê°€ê²©: 42,000ì› / ì¿ í°ê°€ 37,800ì›
ì»¬ëŸ¬ 5ì¢…: Cloudy Cream / Graphite Black / Night Gray / Forest Green / Ground Brick
ì†Œì¬: ABS(í™”ë¶„ë°›ì¹¨ëŒ€) + PC í´ë¦¬ì¹´ë³´ë„¤ì´íŠ¸(ì›Œí„°ê²Œì´ì§€) - ëŒ€í•œë¯¼êµ­ ì œì¡°
ì ìš© í™”ë¶„: ì§€ë¦„ 33cm ì´í•˜ í™”ë¶„ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥
ìµœëŒ€ í•˜ì¤‘: 100kg (ë„ìê¸°, ì„¸ë¼ë¯¹ ëŒ€í˜• í™”ë¶„ ê°€ëŠ¥)
í˜„ì¬ ìƒíƒœ: ì˜ˆì•½ íŒë§¤ ì „í™˜ (ìŠ¤í€˜ì–´ ì¬ì…ê³  ì¼ì •: í´ë¼ìš°ë””í¬ë¦¼ 3/5, ê·¸ë¼ìš´ë“œë¸Œë¦­ 3/6, ê·¸ë¼íŒŒì´íŠ¸ë¸”ë™ 3/9, í¬ë ˆìŠ¤íŠ¸ê·¸ë¦° 3/10, ë‚˜ì´íŠ¸ê·¸ë ˆì´ 3/11)

í•µì‹¬ ê¸°ëŠ¥ 6ê°€ì§€:
1. ëŒ€ìš©ëŸ‰ ë¬¼íƒ±í¬ 3L: í™”ë¶„ ì´ë™ ì—†ì´ ì œìë¦¬ì—ì„œ í ë»‘ ë¬¼ ì£¼ê¸° ê°€ëŠ¥. ë¬¼ ë„˜ì¹  ê±±ì • ì—†ìŒ
2. ì›Œí„°ê²Œì´ì§€: ì™¸ê´€ì— ì¥ì°©ëœ íˆ¬ëª… ê²Œì´ì§€ë¡œ ë‚¨ì€ ë¬¼ ì–‘ì„ í•œëˆˆì— í™•ì¸. ë¬¼íƒ±í¬ êº¼ë‚¼ í•„ìš” ì—†ìŒ
3. ABS ì†Œì¬: ì¼ë°˜ PP ëŒ€ë¹„ í™ë¬¼, ë¬¼ë•Œ ë‹¦ê¸° ì‰½ê³  ë³€ìƒ‰ì— ê°•í•¨. ìµœëŒ€ 100kg ì§€íƒ±
4. ë¬¼ ì¶œë ì„ ë°©ì§€ ì„¤ê³„: ë¬¼íƒ±í¬ ë‚´ë¶€ ê²©ì êµ¬ì¡°ë¬¼ë¡œ ì´ë™ ì¤‘ì—ë„ ë¬¼ì´ ì¶œë ì´ì§€ ì•ŠìŒ
5. íƒˆë¶€ì°© ë°”í€´ (ë³„ë„ 10,000ì›): ìš°ë ˆíƒ„ ì†Œì¬, ì¹´í«/ëŸ¬ê·¸ ìœ„ì—ì„œë„ ì¡°ìš©í•˜ê²Œ ì´ë™ ê°€ëŠ¥
6. 2íƒ€ì… 5ì»¬ëŸ¬: í™”ë¶„ ìƒ‰ìƒê³¼ ê³µê°„ì— ë§ì¶° ì„ íƒ

ë¸Œëœë“œ ë°°ê²½: ê¸°ì¡´ ë°›ì¹¨ëŒ€ì˜ 4ê°€ì§€ ë¬¸ì œ í•´ê²° - â‘ ë¬´ê±°ìš´ í™”ë¶„ ì˜®ê¸¸ ë•Œ í—ˆë¦¬ í†µì¦ â‘¡ë°›ì¹¨ëŒ€ ìš©ëŸ‰ ë¶€ì¡±ìœ¼ë¡œ ë¬¼ ë„˜ì¹¨ â‘¢íˆ¬ë°•í•œ ë°›ì¹¨ëŒ€ê°€ ì¸í…Œë¦¬ì–´ í•´ì¹¨ â‘£ë°›ì¹¨ëŒ€ ì‰½ê²Œ íœ˜ê±°ë‚˜ ê¹¨ì§
3ì¤‘ ë¶„ë¦¬ êµ¬ì¡°: ë‚´/ì™¸ë¶€ ëª¨ë‘ ì„¸ì²™ ê°€ëŠ¥, í™ë¬¼Â·ë¬¼ë•Œ ë¬¼í‹°ìŠˆë¡œ ê°„ë‹¨íˆ ë‹¦ê¸° ê°€ëŠ¥
ë°°ì†¡: 2ë§Œì› ì´ìƒ ë¬´ë£Œë°°ì†¡`
    },
    {
      id: 'treeserve_round',
      name: 'íŠ¸ë¦¬ì €ë¸Œ ëŒ€í˜• í™”ë¶„ë°›ì¹¨ëŒ€_ë¼ìš´ë“œ',
      sub: 'ì§€ë¦„ 340Ã—ë†’ì´ 115mm / ë¬¼íƒ±í¬ 2.7L',
      price: '42,000ì› (ì¿ í° 37,800ì›)',
      emoji: 'â­•',
      detail: `
[íŠ¸ë¦¬ì €ë¸Œ ëŒ€í˜• í™”ë¶„ë°›ì¹¨ëŒ€ ë¼ìš´ë“œ - ìƒì„¸ ì •ë³´]
ë¸Œëœë“œëª…: TREESERVE (íŠ¸ë¦¬ì €ë¸Œ) - "Deep Plant Saucer"
ì œí’ˆ ê·œê²©: ë¼ìš´ë“œ(ì›í˜•) ì§€ë¦„ 340Ã—ë†’ì´ 115mm
ë¬¼íƒ±í¬ ìš©ëŸ‰: 2.7L (ëŒ€ìš©ëŸ‰)
ê°€ê²©: 42,000ì› / ì¿ í°ê°€ 37,800ì›
ì»¬ëŸ¬ 5ì¢…: Cloudy Cream / Graphite Black / Night Gray / Forest Green / Ground Brick
ì†Œì¬: ABS(í™”ë¶„ë°›ì¹¨ëŒ€) + PC í´ë¦¬ì¹´ë³´ë„¤ì´íŠ¸(ì›Œí„°ê²Œì´ì§€) - ëŒ€í•œë¯¼êµ­ ì œì¡°
ì ìš© í™”ë¶„: ì§€ë¦„ 33cm ì´í•˜ í™”ë¶„ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥
ìµœëŒ€ í•˜ì¤‘: 100kg
í˜„ì¬ ìƒíƒœ: ì˜ˆì•½ íŒë§¤ ì „í™˜ (ë¼ìš´ë“œ ì¬ì…ê³  ì¼ì •: í´ë¼ìš°ë””í¬ë¦¼ 2/25, ê·¸ë¼ìš´ë“œë¸Œë¦­ 2/26, ê·¸ë¼íŒŒì´íŠ¸ë¸”ë™ 2/27, í¬ë ˆìŠ¤íŠ¸ê·¸ë¦° 3/3, ë‚˜ì´íŠ¸ê·¸ë ˆì´ 3/4)

í•µì‹¬ ê¸°ëŠ¥ 6ê°€ì§€: ìŠ¤í€˜ì–´ì™€ ë™ì¼
- ì›í˜• ë””ìì¸ â†’ ì›í˜• í™”ë¶„(ì˜¬ë¦¬ë¸ŒíŠ¸ë¦¬, ìœ ì¹¼ë¦½íˆ¬ìŠ¤, ëª¬ìŠ¤í…Œë¼ ë“±)ê³¼ ì™„ë²½ í˜¸í™˜
- ë¶€ë“œëŸ½ê³  ê°ì„±ì ì¸ ë¼ì¸ìœ¼ë¡œ ì›í˜• ë„ìê¸° í™”ë¶„ê³¼ ì˜ ì–´ìš¸ë¦¼

ì‚¬ìš© ê³µê°„: ê°€ì • ê±°ì‹¤, ì˜¤í”¼ìŠ¤ ë¡œë¹„, ëŒ€í˜• ì¹´í˜, ë² ë€ë‹¤ ë“± ëŒ€í˜• ì‹ë¬¼ì´ ìˆëŠ” ê³µê°„ ëª¨ë‘ ì í•©
ë¸Œëœë“œ ë°°ê²½: ìŠ¤í€˜ì–´ì™€ ë™ì¼ (4ê°€ì§€ ë¬¸ì œ í•´ê²°)
3ì¤‘ ë¶„ë¦¬ êµ¬ì¡°ë¡œ ì„¸ì²™ í¸ë¦¬
ë°°ì†¡: 2ë§Œì› ì´ìƒ ë¬´ë£Œë°°ì†¡`
    }
  ]
};

// ============================
// ë¸”ë¡œê·¸ ìœ í˜• ì •ë³´
// ============================
const TYPE_PROMPTS = {
  review: { name: 'êµ¬ë§¤ í›„ê¸°í˜•', desc: 'ì‹¤ì œ êµ¬ë§¤ìê°€ ì“´ ê²ƒì²˜ëŸ¼ 1ì¸ì¹­ í›„ê¸° ìŠ¤íƒ€ì¼. ì„¤ë ˆëŠ” ì–¸ë°•ì‹±, ì‚¬ìš©í•´ë³´ë‹ˆ ì´ëŸ° ì ì´ ì¢‹ì•˜ë‹¤ëŠ” êµ¬ì²´ì  ê²½í—˜ë‹´ í¬í•¨.' },
  intro: { name: 'ìƒí’ˆ ì†Œê°œí˜•', desc: 'ì œí’ˆì˜ ìŠ¤í™, íŠ¹ì§•, ì¥ì ì„ ì²´ê³„ì ìœ¼ë¡œ ì†Œê°œ. ë…ìê°€ êµ¬ë§¤ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆë„ë¡ ê°ê´€ì  ì •ë³´ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±.' },
  gift: { name: 'ì„ ë¬¼ ì¶”ì²œí˜•', desc: 'íŠ¹ì • ì´ë²¤íŠ¸(ì§‘ë“¤ì´, ìƒì¼, ê¸°ë…ì¼, ìŠ¹ì§„ ì¶•í•˜ ë“±)ì— ì´ ì œí’ˆì´ ì™œ ìµœê³ ì˜ ì„ ë¬¼ì¸ì§€ë¥¼ ê°ì„±ì ìœ¼ë¡œ ì„¤ë“í•˜ëŠ” ê¸€.' },
  styling: { name: 'ì¸í…Œë¦¬ì–´ ìŠ¤íƒ€ì¼ë§í˜•', desc: 'ê³µê°„ë³„(ê±°ì‹¤, ì„œì¬, ì°½ê°€, ì¹´í˜ ë“±) ì‹ë¬¼ ì—°ì¶œ ë°©ë²•, ë¶„ìœ„ê¸° ë³€í™” í¬ì¸íŠ¸ë¥¼ ì„¤ëª…í•˜ë©° ì œí’ˆì„ ìì—°ìŠ¤ëŸ½ê²Œ ì†Œê°œ.' },
  care: { name: 'ì‹ë¬¼ ê´€ë¦¬ íŒí˜•', desc: 'ì‹ë¬¼ì„ ì˜ í‚¤ìš°ëŠ” ë°©ë²•, ë¬¼ì£¼ê¸° íŒ, ê´€ë¦¬ ë…¸í•˜ìš°ë¥¼ ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì£¼ë©´ì„œ ë²¨ë¼ê°€ë“  ì œí’ˆì„ ìì—°ìŠ¤ëŸ½ê²Œ ì–¸ê¸‰.' },
  season: { name: 'ê³„ì ˆ ê¸°íší˜•', desc: 'í˜„ì¬ ê³„ì ˆ ê°ì„±ì— ë§ëŠ” ì‹ë¬¼ íŠ¸ë Œë“œ, ì¸í…Œë¦¬ì–´ ìŠ¤íƒ€ì¼ì„ ì´ì•¼ê¸°í•˜ë©° ì œí’ˆì„ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°.' }
};

// ============================
// ìƒíƒœ
// ============================
let currentSector = 'plant';
let selectedProduct = null;
let selectedType = null;
let currentChannel = 'blog'; // 'blog' | 'insta'
let currentResults = { full: '', title: '', image: '', hashtag: '', checklist: '', insta_a: '', insta_b: '', insta_c: '', insta_hashtag: '', insta_photo: '' };
let currentTab = 'full';

// ============================
// ì´ˆê¸°í™”
// ============================
function init() {
  renderProducts('plant');
}

function switchSector(sector) {
  currentSector = sector;
  selectedProduct = null;
  document.querySelectorAll('.sector-tab').forEach(t => t.classList.remove('active'));
  document.querySelector(`[data-sector="${sector}"]`).classList.add('active');
  renderProducts(sector);
}

function renderProducts(sector) {
  const list = document.getElementById('productList');
  list.innerHTML = '';
  PRODUCTS[sector].forEach(p => {
    const card = document.createElement('div');
    card.className = 'product-card';
    card.dataset.id = p.id;
    card.innerHTML = `
      <div class="product-name">${p.emoji} ${p.name}</div>
      <div class="product-meta">${p.sub}</div>
      <div class="product-price">${p.price}</div>
    `;
    card.onclick = () => selectProduct(card, p);
    list.appendChild(card);
  });
}

function selectProduct(card, product) {
  document.querySelectorAll('.product-card').forEach(c => c.classList.remove('selected'));
  card.classList.add('selected');
  selectedProduct = product;
}

function selectType(card) {
  document.querySelectorAll('.type-card').forEach(c => c.classList.remove('selected'));
  card.classList.add('selected');
  selectedType = card.dataset.type;
}

function toggleChip(chip) {
  chip.classList.toggle('selected');
}

// ============================
// í‚¤ì›Œë“œ ê´€ë¦¬
// ============================
function addKeyword() {
  const rows = document.getElementById('keywordRows');
  const row = document.createElement('div');
  row.className = 'keyword-row';
  row.innerHTML = `
    <input type="text" placeholder="í‚¤ì›Œë“œ ì…ë ¥" class="kw-input">
    <input type="text" placeholder="ê²€ìƒ‰ëŸ‰" class="vol-input">
    <input type="text" placeholder="í¬í™”ì§€ìˆ˜" class="sat-input">
    <button class="del-btn" onclick="removeKeyword(this)">Ã—</button>
  `;
  rows.appendChild(row);
}

function removeKeyword(btn) {
  const rows = document.getElementById('keywordRows');
  if (rows.children.length > 1) btn.parentElement.remove();
}

function getKeywords() {
  const rows = document.querySelectorAll('#keywordRows .keyword-row');
  const kws = [];
  rows.forEach(row => {
    const kw = row.querySelector('.kw-input').value.trim();
    const vol = row.querySelector('.vol-input').value.trim();
    const sat = row.querySelector('.sat-input').value.trim();
    if (kw) kws.push({ kw, vol, sat });
  });
  return kws;
}

// ============================
// íƒ­ ì „í™˜
// ============================
// ============================
// ì±„ë„ ì „í™˜
// ============================
function switchChannel(channel) {
  currentChannel = channel;
  selectedType = null;

  // íƒ­ UI
  document.getElementById('channelBlog').classList.toggle('active', channel === 'blog');
  document.getElementById('channelInsta').classList.toggle('active', channel === 'insta');

  // ê¸€ ìœ í˜• ì„¹ì…˜ ì „í™˜
  document.getElementById('blogTypeSection').style.display = channel === 'blog' ? '' : 'none';
  document.getElementById('instaTypeSection').style.display = channel === 'insta' ? '' : 'none';

  // ì„ íƒ ì´ˆê¸°í™”
  document.querySelectorAll('.type-card').forEach(c => c.classList.remove('selected'));

  // ê²°ê³¼ íƒ­ ì „í™˜
  document.getElementById('blogResultTabs').style.display = channel === 'blog' ? '' : 'none';
  document.getElementById('instaResultTabs').style.display = channel === 'insta' ? '' : 'none';

  // ë²„íŠ¼ í…ìŠ¤íŠ¸
  document.getElementById('generateBtnText').textContent = channel === 'blog' ? 'ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì´ˆì•ˆ ìƒì„±' : 'ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ìƒì„±';

  // íŒ¨ë„ í—¤ë”
  document.getElementById('outputPanelHeader').textContent = channel === 'blog' ? 'âœ¦ ìƒì„±ëœ ë¸”ë¡œê·¸ ì´ˆì•ˆ' : 'âœ¦ ìƒì„±ëœ ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸ ';

  // ì²« íƒ­ ì„ íƒ
  currentTab = channel === 'blog' ? 'full' : 'insta_a';

  // ê²°ê³¼ ì´ˆê¸°í™”
  document.getElementById('resultArea').classList.remove('show');
  document.getElementById('placeholderArea').style.display = '';
}

function handleGenerate() {
  if (currentChannel === 'blog') generateBlog();
  else generateInsta();
}

function switchTab(tab, type) {
  document.querySelectorAll('.result-tab').forEach(t => t.classList.remove('active'));
  tab.classList.add('active');
  currentTab = type;
  document.getElementById('blogOutput').textContent = currentResults[type] || '(ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤)';
}

// ============================
// ë³µì‚¬
// ============================
function copyOutput() {
  const text = currentResults[currentTab];
  if (!text) return;
  navigator.clipboard.writeText(text).then(() => {
    const btn = document.getElementById('copyBtn');
    btn.textContent = 'âœ“ ë³µì‚¬ë¨!';
    btn.classList.add('copied');
    setTimeout(() => {
      btn.textContent = 'ğŸ“‹ ë³µì‚¬í•˜ê¸°';
      btn.classList.remove('copied');
    }, 2000);
  });
}

// ============================
// ìƒì„± ë©”ì¸ í•¨ìˆ˜
// ============================
async function generateBlog() {
  const apiKey = document.getElementById('apiKey').value.trim();
  const errorMsg = document.getElementById('errorMsg');
  errorMsg.classList.remove('show');

  if (!apiKey) { showError('Claude API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  if (!selectedProduct) { showError('ì œí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
  if (!selectedType) { showError('ë¸”ë¡œê·¸ ê¸€ ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }

  const keywords = getKeywords();
  const targets = [...document.querySelectorAll('#targetChips .chip.selected')].map(c => c.textContent);
  const tone = document.getElementById('toneSelect').value;

  setLoading(true);
  document.getElementById('placeholderArea').style.display = 'none';
  document.getElementById('resultArea').classList.remove('show');

  try {
    const kwText = keywords.length > 0
      ? keywords.map(k => `- í‚¤ì›Œë“œ: "${k.kw}"${k.vol ? ` / ê²€ìƒ‰ëŸ‰: ${k.vol}` : ''}${k.sat ? ` / í¬í™”ì§€ìˆ˜: ${k.sat}` : ''}`).join('\n')
      : '(í‚¤ì›Œë“œ ë¯¸ì…ë ¥ - ì¼ë°˜ì ì¸ ê´€ë ¨ í‚¤ì›Œë“œ í™œìš©)';

    const toneMap = {
      friendly: 'ì¹œê·¼í•˜ê³  ë”°ëœ»í•œ ë§íˆ¬, ë…ìì™€ ëŒ€í™”í•˜ë“¯ í¸ì•ˆí•˜ê²Œ',
      reviewer: 'ì†”ì§í•˜ê³  ìƒìƒí•œ í›„ê¸° ì‘ì„±ì ë§íˆ¬, ê°œì¸ ê²½í—˜ë‹´ ì¤‘ì‹¬',
      expert: 'ì‹ ë¢°ê° ìˆëŠ” ì •ë³´ ì œê³µ, ì‹ë¬¼ ì „ë¬¸ê°€ì  ì–´ì¡°',
      emotional: 'ê°ì„±ì ì´ê³  ì‹œì ì¸ ì—ì„¸ì´ ìŠ¤íƒ€ì¼',
      simple: 'ì‹¬í”Œí•˜ê³  ì§ê´€ì , í•µì‹¬ë§Œ ëª…í™•í•˜ê²Œ ì „ë‹¬'
    };

    const typeInfo = TYPE_PROMPTS[selectedType];
    const targetText = targets.length > 0 ? targets.join(', ') : 'ì¼ë°˜ ì†Œë¹„ì';

    const systemPrompt = `ë„ˆëŠ” ë²¨ë¼ê°€ë“ ì˜ ì „ë‹´ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì½˜í…ì¸  ì‘ì„± ì „ë¬¸ê°€ì•¼.

## ë¸Œëœë“œ ì •ë³´
- ë¸Œëœë“œëª…: ë²¨ë¼ê°€ë“  (Bellagarden)
- ìš´ì˜ì‚¬: (ì£¼)í•˜íŠ¸ë¬´ë¹™ë©
- ì‡¼í•‘ëª°: bellagarden.co.kr
- ì»¨ì…‰: "ì‹íƒ ìœ„ì— ì•„ë¦„ë‹¤ìš´ ë¯¸ë‹ˆ ì •ì›" / "ì†ê¸¸ì€ ëœì–´ë‚´ê³ , ì•„ë¦„ë‹¤ì›€ì„ ì±„ì›ë‹ˆë‹¤"
- ì£¼ìš” ìƒí’ˆ: ë°˜ë ¤ì‹ë¬¼, í”Œëœí…Œë¦¬ì–´ ì œí’ˆ
- íƒ€ê²Ÿ: 20-30ëŒ€ ì—¬ì„±, 1ì¸ê°€êµ¬, ì‹ í˜¼ë¶€ë¶€
- ê³ ê° ë¬¸ì˜: ì¹´ì¹´ì˜¤ì±„ë„ 'ë²¨ë¼ê°€ë“ ', CS 1688-2181

## SEO ìµœì í™” ê·œì¹™ (ëª¨ë“  ê¸€ ê³µí†µ)
ì œëª©: 15ì ì´ë‚´, í•µì‹¬ í‚¤ì›Œë“œ ì• ë°°ì¹˜, ìˆ«ì í¬í•¨ ê¶Œì¥
ë³¸ë¬¸ í‚¤ì›Œë“œ 3-5íšŒ ìì—° ì‚½ì…: ë°˜ë ¤ì‹ë¬¼, ì‹ì§‘ì‚¬, í”Œëœí…Œë¦¬ì–´, ê³µê¸°ì •í™”ì‹ë¬¼, í‚¤ìš°ê¸°ì‰¬ìš´ì‹ë¬¼, ì‹¤ë‚´ì‹ë¬¼, í™ˆê°€ë“œë‹, ë¯¸ë‹ˆì‹ë¬¼, ì‹ë¬¼ì„ ë¬¼, ì¸í…Œë¦¬ì–´ì‹ë¬¼, ì±…ìƒì‹ë¬¼
ë³¸ë¬¸ êµ¬ì¡°: ì†Œì œëª© 300ìë§ˆë‹¤ 1ê°œ, ë‹¨ë½ 3-4ë¬¸ì¥, ì´ 1500-2000ì
í•´ì‹œíƒœê·¸ í’€: #ë°˜ë ¤ì‹ë¬¼ #ì‹ì§‘ì‚¬ #í”Œëœí…Œë¦¬ì–´ #í™ˆê°€ë“œë‹ #ê³µê¸°ì •í™”ì‹ë¬¼ #í‚¤ìš°ê¸°ì‰¬ìš´ì‹ë¬¼ #ì‹¤ë‚´ì‹ë¬¼ #ì‹ë¬¼ì¸í…Œë¦¬ì–´ #ë²¨ë¼ê°€ë“  #ë¯¸ë‹ˆì •ì› #ì‹ë¬¼ì„ ë¬¼ #ë°˜ë ¤ì‹ë¬¼ì¶”ì²œ #ì±…ìƒì‹ë¬¼ #ì‹ë¬¼ì¼ìƒ #ê·¸ë¦°ì¸í…Œë¦¬ì–´`;

    // ê¸€ íƒ€ì…ë³„ ìƒì„¸ êµ¬ì¡° (ì›Œë“œ íŒŒì¼ ê¸°ì¤€)
    const typeStructure = {
      intro: `êµ¬ì¡°: 1.í›„í‚¹ ì œëª©(SEO í‚¤ì›Œë“œ í¬í•¨) 2.ê³µê° ë„ì…ë¶€(ë…ì ë‹ˆì¦ˆ ìê·¹, 3-4ì¤„) 3.ì œí’ˆ íŠ¹ì§• 3ê°€ì§€(ì†Œì œëª© í¬í•¨) 4.ì‹¤ì œ í™œìš© ì¥ë©´ ë¬˜ì‚¬ 5.êµ¬ë§¤ ìœ ë„ ë§ˆë¬´ë¦¬+ì‡¼í•‘ëª° ë§í¬ / í†¤: ë”°ëœ»í•˜ê³  ê°ì„±ì , ì¹œê·¼í•œ ì¡´ëŒ“ë§`,
      care: `êµ¬ì¡°: 1.í›„í‚¹ ì œëª©("ì´ê²ƒë§Œ ì•Œë©´ ì‹ë¬¼ ì•ˆ ì£½ì—¬ìš”" í˜•ì‹) 2.ë¬¸ì œ ê³µê° ë„ì…ë¶€("í˜¹ì‹œ ì´ëŸ° ê²½í—˜ ìˆìœ¼ì‹ ê°€ìš”?") 3.í•µì‹¬ ê¿€íŒ 3-5ê°€ì§€(ë²ˆí˜¸ ëª©ë¡) 4.ì‹¤íŒ¨ ì›ì¸ TOP3 5.ë²¨ë¼ê°€ë“  ì œí’ˆ ìì—°ìŠ¤ëŸ¬ìš´ ì—°ê²° / í†¤: ì‹¤ìš©ì ì´ê³  ì¹œì ˆí•œ ì„ ìƒë‹˜ ëŠë‚Œ`,
      season: `êµ¬ì¡°: 1.ê³„ì ˆê° ì‚´ë¦° í›„í‚¹ ì œëª© 2.ì´ ê³„ì ˆì— ì‹ë¬¼ì´ í•„ìš”í•œ ì´ìœ (ê°ì„±ì  ë„ì…) 3.ì¶”ì²œ ì‹ë¬¼ 3ê°€ì§€(ê°ê° íŠ¹ì§•+ë‚œì´ë„+ê´€ë¦¬ë²•) 4.ê³„ì ˆë³„ ê´€ë¦¬ ì£¼ì˜ì‚¬í•­ 5.ë²¨ë¼ê°€ë“  ì¶”ì²œ ìƒí’ˆ ì—°ê²° / í†¤: ê°ì„±ì ì´ê³  ê³„ì ˆê° ì‚´ë¦° ë¬¸ì²´`,
      review: `êµ¬ì¡°: 1.ì‹¤ì œ êµ¬ë§¤ìì²˜ëŸ¼ ëŠê»´ì§€ëŠ” ì œëª© 2.êµ¬ë§¤ ì „ ê³ ë¯¼/ê³„ê¸° 3.ì–¸ë°•ì‹± ë¬˜ì‚¬(í¬ì¥, ì²«ì¸ìƒ) 4.1ì£¼ì¼/í•œë‹¬ ì‚¬ìš© í›„ê¸° 5.ì´í‰+ì¶”ì²œ ëŒ€ìƒ / í†¤: ì†”ì§í•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ í›„ê¸°ì²´`,
      gift: `êµ¬ì¡°: 1.ì„ ë¬¼ ìƒí™© ê³µê° ì œëª© 2.ì„ ë¬¼ ê³ ë¯¼ ë„ì…ë¶€ 3.ì„ ë¬¼ë¡œ ì¶”ì²œí•˜ëŠ” ì´ìœ  3ê°€ì§€ 4.ì„ ë¬¼ í¬ì¥/ì „ë‹¬ ì¥ë©´ ë¬˜ì‚¬ 5.êµ¬ë§¤ ì•ˆë‚´ ë§ˆë¬´ë¦¬ / í†¤: ë”°ëœ»í•˜ê³  ê°ì„±ì , ì„ ë¬¼ ë°›ëŠ” ì‚¬ëŒ ì¤‘ì‹¬`,
      styling: `êµ¬ì¡°: 1.ê³µê°„ ê°ì„± ìê·¹ ì œëª© 2.ì‹ë¬¼ì´ ì£¼ëŠ” ê³µê°„ ë³€í™” ë„ì… 3.ê³µê°„ë³„ ìŠ¤íƒ€ì¼ë§ ì œì•ˆ 3ê°€ì§€(ê±°ì‹¤/ì„œì¬/ì°½ê°€ ë“±) 4.ì´ ì œí’ˆê³¼ ì–´ìš¸ë¦¬ëŠ” ì¸í…Œë¦¬ì–´ ìŠ¤íƒ€ì¼ 5.ë²¨ë¼ê°€ë“  êµ¬ë§¤ ì•ˆë‚´ / í†¤: ë¼ì´í”„ìŠ¤íƒ€ì¼ ë§¤ê±°ì§„ ëŠë‚Œ`
    };

    const userPrompt = `ì•„ë˜ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë„¤ì´ë²„ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ì´ˆì•ˆì„ ì‘ì„±í•´ì£¼ì„¸ìš”.

[ì œí’ˆ ì •ë³´]
${selectedProduct.detail}

[ê¸€ ìœ í˜• ë° êµ¬ì¡°]
${typeStructure[selectedType] || typeInfo.desc}

[íƒ€ê²Ÿ ë…ì]
${targetText}

[ë¸”ë¡œê·¸ ê¸€ í†¤]
${toneMap[tone]}

[ë¸”ë™í‚¤ìœ„ í‚¤ì›Œë“œ (SEO ìì—°ìŠ¤ëŸ½ê²Œ ë°˜ì˜)]
${kwText}

[ì¶”ê°€ ì§€ì¹¨]
- ê´‘ê³ ì„± ë¬¸êµ¬ë³´ë‹¤ ì •ë³´ì„±Â·ê²½í—˜ë‹´ ìœ„ì£¼ ì‘ì„± (ë„¤ì´ë²„ ìƒìœ„ ë…¸ì¶œ ìœ ë¦¬)
- ê°€ê²©, êµ¬ë§¤ì²˜(bellagarden.co.kr) ìì—°ìŠ¤ëŸ½ê²Œ í¬í•¨
- ì´ë¯¸ì§€ alt í…ìŠ¤íŠ¸ ì œì•ˆì„ [ì´ë¯¸ì§€: ~] í˜•ì‹ìœ¼ë¡œ ë³¸ë¬¸ ì¤‘ê°„ 3êµ°ë° ì‚½ì…

ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì¶œë ¥í•´ì£¼ì„¸ìš”. 5ê°œ ì„¹ì…˜ì„ ë°˜ë“œì‹œ ëª¨ë‘ ì¶œë ¥í•˜ê³  ì–´ë–¤ ì„¹ì…˜ë„ ìƒëµí•˜ì§€ ë§ˆì„¸ìš”:

===ì œëª©í›„ë³´===
(SEO ìµœì í™” ì œëª© í›„ë³´ 3ê°œ, ê° 15ì ì´ë‚´, ë²ˆí˜¸ ë§¤ê²¨ ì‘ì„±)

===ë³¸ë¬¸===
(ë¸”ë¡œê·¸ ë³¸ë¬¸ ì „ì²´, 1500-2000ì)

===ì´ë¯¸ì§€ì»·===
(ì¶”ì²œ ì´ë¯¸ì§€ ì»· ì„¤ëª… 3ê°œ - ì–´ë–¤ ì¥ë©´ì„ ì–´ë–»ê²Œ ì°ì–´ì•¼ í•˜ëŠ”ì§€ êµ¬ì²´ì ìœ¼ë¡œ)

===í•´ì‹œíƒœê·¸===
(í•´ì‹œíƒœê·¸ 10ê°œ)

===ì²´í¬ë¦¬ìŠ¤íŠ¸===
(ë„¤ì´ë²„ ë¸”ë¡œê·¸ ë°œí–‰ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ 5-7ê°œ, ì²´í¬ë°•ìŠ¤ â–¡ í˜•ì‹ìœ¼ë¡œ)

[ì¤‘ìš”] ìœ„ 5ê°œ ì„¹ì…˜(===ì œëª©í›„ë³´===, ===ë³¸ë¬¸===, ===ì´ë¯¸ì§€ì»·===, ===í•´ì‹œíƒœê·¸===, ===ì²´í¬ë¦¬ìŠ¤íŠ¸===)ì„ ë°˜ë“œì‹œ ëª¨ë‘ ì¶œë ¥í•˜ì„¸ìš”. ì¶œë ¥ì´ ê¸¸ì–´ë„ ì¤‘ê°„ì— ë©ˆì¶”ì§€ ë§ˆì„¸ìš”.`;

    const response = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'x-api-key': apiKey,
        'anthropic-version': '2023-06-01',
        'anthropic-dangerous-direct-browser-access': 'true'
      },
      body: JSON.stringify({
        model: 'claude-sonnet-4-5-20250929',
        max_tokens: 4000,
        system: systemPrompt,
        messages: [{ role: 'user', content: userPrompt }]
      })
    });

    if (!response.ok) {
      const err = await response.json();
      throw new Error(err.error?.message || `API ì˜¤ë¥˜: ${response.status}`);
    }

    const data = await response.json();
    const fullText = data.content[0].text;

    // íŒŒì‹± (=== split ë°©ì‹ - ê°€ì¥ ì•ˆì •ì )
    const sections = {};
    const splitData = fullText.split('===');
    for (let i = 1; i < splitData.length; i += 2) {
      const key = splitData[i].trim();
      const value = splitData[i + 1]?.trim();
      if (key && value) sections[key] = value;
    }

    currentResults.title     = sections['ì œëª©í›„ë³´'] || sections['ì œëª©'] || 'ì œëª© íŒŒì‹± ì‹¤íŒ¨';
    currentResults.full      = sections['ë³¸ë¬¸'] || fullText;
    currentResults.image     = sections['ì´ë¯¸ì§€ì»·'] || sections['ì´ë¯¸ì§€ ì»·'] || 'ì´ë¯¸ì§€ ì»· íŒŒì‹± ì‹¤íŒ¨';
    currentResults.hashtag   = sections['í•´ì‹œíƒœê·¸'] || 'í•´ì‹œíƒœê·¸ íŒŒì‹± ì‹¤íŒ¨';
    currentResults.checklist = sections['ì²´í¬ë¦¬ìŠ¤íŠ¸'] || 'ì²´í¬ë¦¬ìŠ¤íŠ¸ íŒŒì‹± ì‹¤íŒ¨';

    // UI ì—…ë°ì´íŠ¸
    setLoading(false);
    document.getElementById('resultArea').classList.add('show');

    // ë©”íƒ€ ë°°ì§€
    document.getElementById('resultMeta').innerHTML = `
      <span class="meta-badge green">${selectedProduct.name.split(' ').slice(0,2).join(' ')}</span>
      <span class="meta-badge terra">${typeInfo.name}</span>
      ${keywords.length > 0 ? `<span class="meta-badge green">í‚¤ì›Œë“œ ${keywords.length}ê°œ ë°˜ì˜</span>` : ''}
    `;

    // íƒ­ ì´ˆê¸°í™”
    document.querySelectorAll('#blogResultTabs .result-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('#blogResultTabs .result-tab')[0].classList.add('active');
    currentTab = 'full';
    document.getElementById('blogOutput').textContent = currentResults.full;

  } catch (err) {
    setLoading(false);
    document.getElementById('placeholderArea').style.display = 'flex';
    showError(`ì˜¤ë¥˜: ${err.message}`);
    console.error(err);
  }
}

function setLoading(show) {
  document.getElementById('generateBtn').disabled = show;
  const btnText = currentChannel === 'blog' ? 'ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì´ˆì•ˆ ìƒì„±' : 'ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ìƒì„±';
  document.getElementById('generateBtn').querySelector('.btn-inner').innerHTML = show
    ? '<span class="loader" style="width:16px;height:16px;border-width:2px;"></span><span>ìƒì„± ì¤‘...</span>'
    : `<span>âœ¦</span><span>${btnText}</span>`;
  document.getElementById('loadingState').classList.toggle('show', show);
  document.getElementById('placeholderArea').style.display = show ? 'none' : 'flex';
  if (show) document.getElementById('resultArea').classList.remove('show');
}

// ============================
// ì¸ìŠ¤íƒ€ê·¸ë¨ ìƒì„± í•¨ìˆ˜
// ============================
async function generateInsta() {
  const apiKey = document.getElementById('apiKey').value.trim();
  const errorMsg = document.getElementById('errorMsg');
  errorMsg.classList.remove('show');

  if (!apiKey) { showError('Claude API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  if (!selectedProduct) { showError('ì œí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
  if (!selectedType) { showError('ì½˜í…ì¸  ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }

  const keywords = getKeywords();
  const targets = [...document.querySelectorAll('#targetChips .chip.selected')].map(c => c.textContent);
  const tone = document.getElementById('toneSelect').value;

  setLoading(true);
  document.getElementById('placeholderArea').style.display = 'none';
  document.getElementById('resultArea').classList.remove('show');

  const kwText = keywords.length > 0
    ? keywords.map(k => `- "${k.kw}"${k.vol ? ` (ê²€ìƒ‰ëŸ‰: ${k.vol})` : ''}`).join('\n')
    : '(í‚¤ì›Œë“œ ë¯¸ì…ë ¥)';
  const targetText = targets.length > 0 ? targets.join(', ') : 'ì¼ë°˜ ì†Œë¹„ì';

  const toneMap = {
    friendly: 'ì¹œê·¼í•˜ê³  ë”°ëœ»í•œ ë§íˆ¬',
    reviewer: 'ì†”ì§í•˜ê³  ìƒìƒí•œ ê²½í—˜ë‹´ ë§íˆ¬',
    expert: 'ì‹ ë¢°ê° ìˆëŠ” ì „ë¬¸ê°€ ì–´ì¡°',
    emotional: 'ê°ì„±ì ì´ê³  ì‹œì ì¸ ìŠ¤íƒ€ì¼',
    simple: 'ì‹¬í”Œí•˜ê³  ì§ê´€ì ì¸ ë§íˆ¬'
  };

  const instaTypeMap = {
    insta_product:   'ì œí’ˆ í”¼ë“œ - ì œí’ˆ ê°ì„± ì†Œê°œ & êµ¬ë§¤ ìœ ë„',
    insta_lifestyle: 'ë¼ì´í”„ìŠ¤íƒ€ì¼ í”¼ë“œ - ê³µê°„Â·ì¼ìƒ ê°ì„± ì—°ì¶œ',
    insta_tip:       'ì‹ë¬¼ íŒ í”¼ë“œ - ìœ ìš©í•œ ì •ë³´ë¡œ ì €ì¥ ìœ ë„',
    insta_gift:      'ì„ ë¬¼ í”¼ë“œ - ì„ ë¬¼ ì¶”ì²œÂ·ì´ë²¤íŠ¸ í™ë³´',
    insta_season:    'ê³„ì ˆ ê¸°íš í”¼ë“œ - ì‹œì¦Œ ê°ì„± + íŠ¸ë Œë“œ',
    insta_review:    'í›„ê¸° í”¼ë“œ - ì‹¤ì‚¬ìš© í›„ê¸° ê°ì„± ì¬í¸ì§‘'
  };

  const systemPrompt = `ë„ˆëŠ” ë²¨ë¼ê°€ë“ ì˜ ì¸ìŠ¤íƒ€ê·¸ë¨ ì „ë‹´ SNS ë§ˆì¼€í„°ì•¼.
ë¸Œëœë“œ: ë²¨ë¼ê°€ë“  (Bellagarden) / "ì†ê¸¸ì€ ëœì–´ë‚´ê³ , ì•„ë¦„ë‹¤ì›€ì„ ì±„ì›ë‹ˆë‹¤"
ì‡¼í•‘ëª°: bellagarden.co.kr | ìš´ì˜ì‚¬: (ì£¼)í•˜íŠ¸ë¬´ë¹™ë©
íƒ€ê²Ÿ: 20-30ëŒ€ ì—¬ì„±, 1ì¸ê°€êµ¬, ì‹ í˜¼ë¶€ë¶€

ì¸ìŠ¤íƒ€ê·¸ë¨ ìº¡ì…˜ ê·œì¹™:
- 150-300ì, ì²« ì¤„ì´ í•µì‹¬ (ë”ë³´ê¸° ì „ ë…¸ì¶œ)
- ì´ëª¨ì§€ ìì—°ìŠ¤ëŸ½ê²Œ (ê³¼í•˜ì§€ ì•Šê²Œ)
- ê´‘ê³  ëŠë‚Œë³´ë‹¤ ì¼ìƒÂ·ê°ì„± ëŠë‚Œ
- ê° ë¬¸êµ¬ëŠ” ëª…í™•í•œ ëª©ì (ì €ì¥/ê³µìœ /í´ë¦­) ë‹¬ì„±ì— ì§‘ì¤‘`;

  const userPrompt = `ì•„ë˜ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸ ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

[ì œí’ˆ ì •ë³´]
${selectedProduct.detail}

[ì½˜í…ì¸  ìœ í˜•]
${instaTypeMap[selectedType] || selectedType}

[íƒ€ê²Ÿ ë…ì]
${targetText}

[í†¤ ìŠ¤íƒ€ì¼]
${toneMap[tone]}

[ì°¸ê³  í‚¤ì›Œë“œ]
${kwText}

ë‹¤ìŒ 5ê°œ ì„¹ì…˜ì„ ë°˜ë“œì‹œ ëª¨ë‘ ì¶œë ¥í•˜ì„¸ìš”:

===ê°ì„±í˜•===
(ëª©ì : ë¸Œëœë“œ ê°ì„± ì „ë‹¬ + ì €ì¥(save) ìœ ë„
ì²« ì¤„ì— ê°ì„±ì ì¸ í•œ ì¤„ ë¬¸ì¥, ì´ì–´ì„œ ì œí’ˆ ê°ì„± ë¬˜ì‚¬, ë§ˆì§€ë§‰ì— "ë²¨ë¼ê°€ë“ ì—ì„œ ë§Œë‚˜ë³´ì„¸ìš” ğŸ‘‰ bellagarden.co.kr"
150-250ì)

===ì €ì¥ìœ ë„í˜•===
(ëª©ì : ì •ë³´ì„± + ì €ì¥(save) ìœ ë„
ì²« ì¤„ì— "ì €ì¥í•´ë‘ë©´ ìœ ìš©í•œ" ë˜ëŠ” ìˆ«ì í¬í•¨ í›…, ìœ ìš©í•œ ì •ë³´ë‚˜ íŒ ë‚˜ì—´, ë§ˆì§€ë§‰ì— ì €ì¥ ìœ ë„ ë¬¸êµ¬
150-250ì)

===íŒë§¤í˜•===
(ëª©ì : í´ë¦­/êµ¬ë§¤(CTA) ìœ ë„
ì²« ì¤„ì— ê°•í•œ í›…, í˜œíƒÂ·ê°€ê²©Â·í•œì • ìš”ì†Œ ìì—°ìŠ¤ëŸ½ê²Œ í¬í•¨, ëª…í™•í•œ CTA + bellagarden.co.kr ë§í¬
150-250ì)

===í•´ì‹œíƒœê·¸===
(ì¸ìŠ¤íƒ€ê·¸ë¨ í•´ì‹œíƒœê·¸ ì •í™•íˆ 30ê°œ
ì¸ê¸° ì¼ë°˜ íƒœê·¸ 10ê°œ + ì‹ë¬¼/ê°€ë“œë‹ ê´€ë ¨ íƒœê·¸ 10ê°œ + ë²¨ë¼ê°€ë“  ë¸Œëœë“œ/ë‹ˆì¹˜ íƒœê·¸ 10ê°œ
í•œ ì¤„ë¡œ ë‚˜ì—´)

===ì´¬ì˜ê°€ì´ë“œ===
(ì´ ì½˜í…ì¸  ìœ í˜•ì— ë§ëŠ” ì‚¬ì§„ ì´¬ì˜ ê°€ì´ë“œ 3ê°€ì§€
ì•µê¸€/ë°°ê²½/ì†Œí’ˆ/ì¡°ëª…/ë¶„ìœ„ê¸° ë“± êµ¬ì²´ì ìœ¼ë¡œ)

[ì¤‘ìš”] ìœ„ 5ê°œ ì„¹ì…˜(===ê°ì„±í˜•===, ===ì €ì¥ìœ ë„í˜•===, ===íŒë§¤í˜•===, ===í•´ì‹œíƒœê·¸===, ===ì´¬ì˜ê°€ì´ë“œ===)ì„ ë°˜ë“œì‹œ ëª¨ë‘ ì¶œë ¥í•˜ì„¸ìš”. ì–´ë–¤ ì„¹ì…˜ë„ ìƒëµí•˜ì§€ ë§ˆì„¸ìš”.`;

  try {
    const response = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'x-api-key': apiKey,
        'anthropic-version': '2023-06-01',
        'anthropic-dangerous-direct-browser-access': 'true'
      },
      body: JSON.stringify({
        model: 'claude-sonnet-4-5-20250929',
        max_tokens: 4000,
        system: systemPrompt,
        messages: [{ role: 'user', content: userPrompt }]
      })
    });

    if (!response.ok) {
      const err = await response.json();
      throw new Error(err.error?.message || `API ì˜¤ë¥˜: ${response.status}`);
    }

    const data = await response.json();
    const fullText = data.content.filter(b => b.type === 'text').map(b => b.text).join('\n');

    // íŒŒì‹±
    const sections = {};
    const splitData = fullText.split('===');
    for (let i = 1; i < splitData.length; i += 2) {
      const key = splitData[i].trim();
      const value = splitData[i + 1]?.trim();
      if (key && value) sections[key] = value;
    }

    currentResults.insta_a       = sections['ê°ì„±í˜•']    || 'ê°ì„±í˜• ë¬¸êµ¬ íŒŒì‹± ì‹¤íŒ¨';
    currentResults.insta_b       = sections['ì €ì¥ìœ ë„í˜•'] || 'ì €ì¥ìœ ë„í˜• ë¬¸êµ¬ íŒŒì‹± ì‹¤íŒ¨';
    currentResults.insta_c       = sections['íŒë§¤í˜•']    || 'íŒë§¤í˜• ë¬¸êµ¬ íŒŒì‹± ì‹¤íŒ¨';
    currentResults.insta_hashtag = sections['í•´ì‹œíƒœê·¸']  || 'í•´ì‹œíƒœê·¸ íŒŒì‹± ì‹¤íŒ¨';
    currentResults.insta_photo   = sections['ì´¬ì˜ê°€ì´ë“œ'] || 'ì´¬ì˜ ê°€ì´ë“œ íŒŒì‹± ì‹¤íŒ¨';

    setLoading(false);
    document.getElementById('resultArea').classList.add('show');

    const typeLabel = document.querySelector('.type-card.selected .type-name')?.textContent || '';
    document.getElementById('resultMeta').innerHTML = `
      <span class="meta-badge green">${selectedProduct.name.split(' ').slice(0,2).join(' ')}</span>
      <span class="meta-badge terra">${typeLabel}</span>
      <span class="meta-badge green">ğŸ“¸ ì¸ìŠ¤íƒ€ê·¸ë¨</span>
    `;

    document.querySelectorAll('#instaResultTabs .result-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('#instaResultTabs .result-tab')[0].classList.add('active');
    currentTab = 'insta_a';
    document.getElementById('blogOutput').textContent = currentResults.insta_a;

  } catch (err) {
    setLoading(false);
    document.getElementById('placeholderArea').style.display = 'flex';
    showError(`ì˜¤ë¥˜: ${err.message}`);
    console.error(err);
  }
}

// ============================
// TXT ë‹¤ìš´ë¡œë“œ
// ============================
function downloadTxt() {
  let content = '';
  const prod = selectedProduct ? selectedProduct.name : 'ì œí’ˆ ë¯¸ì„ íƒ';
  const date = new Date().toLocaleDateString('ko-KR');

  if (currentChannel === 'blog') {
    content = [
      `ë²¨ë¼ê°€ë“  ë¸”ë¡œê·¸ ì½˜í…ì¸  | ${prod} | ${date}`,
      '='.repeat(50),
      '',
      'ã€ ì œëª© í›„ë³´ ã€‘',
      currentResults.title,
      '',
      'ã€ ë¸”ë¡œê·¸ ë³¸ë¬¸ ã€‘',
      currentResults.full,
      '',
      'ã€ ì´ë¯¸ì§€ ì»· ì œì•ˆ ã€‘',
      currentResults.image,
      '',
      'ã€ í•´ì‹œíƒœê·¸ ã€‘',
      currentResults.hashtag,
      '',
      'ã€ ë°œí–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸ ã€‘',
      currentResults.checklist,
    ].join('\n');
  } else {
    content = [
      `ë²¨ë¼ê°€ë“  ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  | ${prod} | ${date}`,
      '='.repeat(50),
      '',
      'ã€ ë¬¸êµ¬ A - ê°ì„±í˜• ã€‘',
      currentResults.insta_a,
      '',
      'ã€ ë¬¸êµ¬ B - ì €ì¥ìœ ë„í˜• ã€‘',
      currentResults.insta_b,
      '',
      'ã€ ë¬¸êµ¬ C - íŒë§¤í˜• ã€‘',
      currentResults.insta_c,
      '',
      'ã€ í•´ì‹œíƒœê·¸ 30ê°œ ã€‘',
      currentResults.insta_hashtag,
      '',
      'ã€ ì´¬ì˜ ê°€ì´ë“œ ã€‘',
      currentResults.insta_photo,
    ].join('\n');
  }

  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `ë²¨ë¼ê°€ë“ _${currentChannel === 'blog' ? 'ë¸”ë¡œê·¸' : 'ì¸ìŠ¤íƒ€'}_${prod}_${date}.txt`;
  a.click();
  URL.revokeObjectURL(url);
}

function showError(msg) {
  const el = document.getElementById('errorMsg');
  el.textContent = msg;
  el.classList.add('show');
}

// ì´ˆê¸°í™”
init();
</script>
</body>
</html>
